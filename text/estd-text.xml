<?xml version="1.0" encoding="UTF-8"?>
<script xmlns="http://www.xstep.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <variables>
        <variable type="execution-file" name="execute"
            >file:///C:/Users/bruening.FDH-FFM/txstep/ueb/txstep.tu</variable>
        <char-group name="tg">?{-}{{}}%</char-group>
        <string-group name="ea">
            <member>4795</member>
            <member>4797</member>
            <member>4761</member>
            <member>5025</member>
            <member>5086</member>
            <member>5199</member>
            <member>5291</member>
            <member>before^_5301</member>
            <member>5554</member>
            <member>5642</member>
            <member>5893</member>
            <member>5930</member>
            <member>5966</member>
        </string-group>
        <variable type="scratch-file" name="ko1"/>
        <variable type="scratch-file" name="ko2"/>
        <variable type="scratch-file" name="crit"/>
        <variable type="permanent-file" format="tustep" option="erase" name="intmedfile"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/intmedfile.tf</variable>
        <variable type="permanent-file" code="UTF-8" name="h-x"
            >file:///C:/Users/bruening.FDH-FFM/faustedition/xml/h.xml</variable>
        <variable type="permanent-file" code="UTF-8" name="h0a-x"
            >file:///C:/Users/bruening.FDH-FFM/faustedition/xml/h0a.xml</variable>
        <variable type="permanent-file" code="UTF-8" name="ih12a-x"
            >file:///C:/Users/bruening.FDH-FFM/faustedition/xml/ih12a.xml</variable>
        <variable type="permanent-file" code="UTF-8" name="h14-x"
            >file:///C:/Users/bruening.FDH-FFM/faustedition/xml/h14.xml</variable>
        <variable type="permanent-file" code="UTF-8" name="c14-x"
            >file:///C:/Users/bruening.FDH-FFM/faustedition/xml/c14.xml</variable>
        <variable type="permanent-file" code="UTF-8" name="ivh1-x"
            >file:///C:/Users/bruening.FDH-FFM/faustedition/xml/ivh1.xml</variable>
        <variable type="permanent-file" code="UTF-8" name="ivh2-x"
            >file:///C:/Users/bruening.FDH-FFM/faustedition/xml/ivh2.xml</variable>
        <variable type="permanent-file" code="UTF-8" name="ivh3-x"
            >file:///C:/Users/bruening.FDH-FFM/faustedition/xml/ivh3.xml</variable>
        <variable type="permanent-file" code="UTF-8" name="ivh20-x"
            >file:///C:/Users/bruening.FDH-FFM/faustedition/xml/ivh20.xml</variable>
        <variable type="permanent-file" code="UTF-8" name="ivh22e-x"
            >file:///C:/Users/bruening.FDH-FFM/faustedition/xml/ivh22e.xml</variable>
        <variable type="permanent-file" code="UTF-8" name="ivh22f-x"
            >file:///C:/Users/bruening.FDH-FFM/faustedition/xml/ivh22f.xml</variable>
        <variable type="permanent-file" code="UTF-8" name="ivh22g-x"
            >file:///C:/Users/bruening.FDH-FFM/faustedition/xml/ivh22g.xml</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="hheader"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/hheader.tf</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="hz1"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/hz1.tf</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="h"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/h.tf</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="ih12a"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/ih12a.tf</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="h0a"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/h0a.tf</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="h14"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/h14.tf</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="c14"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/c14.tf</variable>
        <variable type="permanent-file" code="UTF-8" name="crith" option="erase"
            >file:///C:/Users/bruening.FDH-FFM/faustedition/txt/crith.txt</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="ivh1"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/ivh1.tf</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="ivh2"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/ivh2.tf</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="ivh3"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/ivh3.tf</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="ivh20"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/ivh20.tf</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="ivh22e"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/ivh22e.tf</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="ivh22f"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/ivh22f.tf</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="ivh22g"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/ivh22g.tf</variable>
        <variable type="permanent-file" code="UTF-8" name="crith0a" option="erase"
            >file:///C:/Users/bruening.FDH-FFM/faustedition/txt/crith0a.txt</variable>
        <variable type="permanent-file" code="UTF-8" name="critc14" option="erase"
            >file:///C:/Users/bruening.FDH-FFM/faustedition/txt/critc14.txt</variable>
        <variable type="permanent-file" name="diff1" option="erase" format="tustep"
            >file:///C:/Users/bruening.FDH-FFM/txstep/ve/diff1</variable>
        <variable type="permanent-file" name="diff1b" option="erase" format="tustep"
            >file:///C:/Users/bruening.FDH-FFM/txstep/ve/diff1b</variable>
        <variable type="permanent-file" name="diff2" option="erase" format="tustep"
            >file:///C:/Users/bruening.FDH-FFM/txstep/ve/diff2</variable>
        <variable type="permanent-file" name="diffhprec" option="erase" format="tustep"
            >file:///C:/Users/bruening.FDH-FFM/txstep/ve/diffhprec</variable>
        <variable type="permanent-file" name="diff-list1" option="erase" format="tustep"
            >file:///C:/Users/bruening.FDH-FFM/txstep/va/difflist1</variable>
        <variable type="permanent-file" name="diff-list2" option="erase" format="tustep"
            >file:///C:/Users/bruening.FDH-FFM/txstep/va/difflist2</variable>
        <variable type="permanent-file" name="diffhprec-va" option="erase" format="tustep"
            >file:///C:/Users/bruening.FDH-FFM/txstep/va/diffhprec-va</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="hh0a"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/hh0a.tf</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="hh0ac14"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/hh0ac14.tf</variable>
        <variable type="permanent-file" format="tustep" option="erase" name="ktemend"
            >file:///C:/Users/bruening.FDH-FFM/txstep/txt/ktemend.tf</variable>
        <variable type="permanent-file" code="UTF-8" name="kt-x" option="erase"
            >file:///C:/Users/bruening.FDH-FFM/faustedition/xml/kt.xml</variable>
    </variables>
    <!-- extract header: -->
    <transform source="h-x" destination="hheader">
        <pass>
            <examine-text>
                <select>
                    <text-contains>
                        <search-table>
                            <search-string>{{\T\E\I</search-string>
                        </search-table>
                    </text-contains>
                </select>
            </examine-text>
        </pass>
        <remove-blanks where="both"/>
        <insert-at-end>{{/teiHeader}}</insert-at-end>
    </transform>
    <!-- extract transpose: -->
    <transform source="h-x" destination="crith">
        <define-text-units>
            <text-unit-start>
                <comparison-table>
                    <exclusion-string>{{/</exclusion-string>
                    <exclusion-string>{{abbr</exclusion-string>
                    <exclusion-string>{{add</exclusion-string>
                    <comparison-string>{{</comparison-string>
                </comparison-table>
            </text-unit-start>
        </define-text-units>
        <pass>
            <examine-text>
                <select>
                    <text-contains>
                        <search-table>
                            <search-string>{{ge:transpose</search-string>
                        </search-table>
                    </text-contains>
                </select>
            </examine-text>
            <modify>
                <exchange>
                    <exchange-table>
                        <string-pair>
                            <search-string>{00} </search-string>
                            <replacement-string> </replacement-string>
                        </string-pair>
                        <string-pair>
                            <search-string>{{/teiHeader}}</search-string>
                            <replacement-string/>
                        </string-pair>
                    </exchange-table>
                </exchange>
            </modify>
        </pass>
        <remove-blanks where="both"/>
    </transform>
    <!-- ko 1 h: -->
    <transform source="h-x" destination="$hz1" save-params="ko1">
        <define-text-units>
            <text-unit-start>
                <comparison-table>
                    <exclusion-string>{{/</exclusion-string>
                    <exclusion-string>{{abbr</exclusion-string>
                    <exclusion-string>{{add</exclusion-string>
                    <comparison-string>{{</comparison-string>
                </comparison-table>
            </text-unit-start>
        </define-text-units>
        <pass>
            <modify>
                <exchange>
                    <exchange-table>
                        <string-pair>
                            <search-string>*{{\T\E\I*</search-string>
                            <replacement-string/>
                        </string-pair>
                        <string-pair>
                            <search-string>*{{ge:transpose*</search-string>
                            <replacement-string/>
                        </string-pair>
                        <string-pair>
                            <search-string>{{/teiHeader}}</search-string>
                            <replacement-string/>
                        </string-pair>
                        <string-pair>
                            <search-string>{{/TEI}}</search-string>
                            <replacement-string/>
                        </string-pair>
                        <!-- tags into tokens: -->
                        <string-pair>
                            <search-string>{1-0} }}</search-string>
                            <replacement-string>}}</replacement-string>
                        </string-pair>
                        <string-pair>
                            <search-string>{{{00}{c:tg}{[} {]}{00}{c:tg}}}</search-string>
                            <replacement-string>+</replacement-string>
                        </string-pair>
                        <!-- remove xmlns:ge attribute: -->
                        <string-pair>
                            <search-string>xmlns:ge="http://www.tei-c.org/ns/geneticEditions"</search-string>
                            <replacement-string/>
                        </string-pair>
                    </exchange-table>
                </exchange>
            </modify>
        </pass>
        <!-- collapse multiple +: -->
        <pass>
            <modify>
                <exchange>
                    <exchange-table>
                        <string-pair>
                            <search-string>{00}+</search-string>
                            <replacement-string>+</replacement-string>
                        </string-pair>
                    </exchange-table>
                </exchange>
            </modify>
        </pass>
        <!-- separate chunk level element tags from text: -->
        <pass>
            <modify>
                <exchange>
                    <exchange-table>
                        <exception-string>{{{0}/add}}</exception-string>
                        <exception-string>{{add{00}{c:tg}}}</exception-string>
                        <exception-string>{{{0}/abbr}}</exception-string>
                        <exception-string>{{{0}/choice}}</exception-string>
                        <exception-string>{{{0}/corr}}</exception-string>
                        <exception-string>{{corr{00}{c:tg}}}</exception-string>
                        <exception-string>{{damage{00}{c:tg}}}</exception-string>
                        <exception-string>{{{0}/damage}}</exception-string>
                        <exception-string>{{del{00}{c:tg}}}</exception-string>
                        <exception-string>{{{0}/del}}</exception-string>
                        <exception-string>{{{0}/emph}}</exception-string>
                        <exception-string>{{{0}/expan}}</exception-string>
                        <exception-string>{{{0}/g}}</exception-string>
                        <exception-string>{{{0}/hi}}</exception-string>
                        <exception-string>{{hi{00}{c:tg}}}</exception-string>
                        <exception-string>{{{0}/orig}}</exception-string>
                        <exception-string>{{{0}/sic}}</exception-string>
                        <exception-string>{{{0}/subst}}</exception-string>
                        <exception-string>{{subst{00}{c:tg}}}</exception-string>
                        <exception-string>{{{0}/supplied}}</exception-string>
                        <exception-string>{{supplied{00}{c:tg}}}</exception-string>
                        <exception-string>{{{0}/surplus}}</exception-string>
                        <exception-string>{{{0}/unclear}}</exception-string>
                        <string-pair>
                            <search-string>}}</search-string>
                            <replacement-string>}} </replacement-string>
                        </string-pair>
                        <string-pair>
                            <search-string>{{</search-string>
                            <replacement-string> {{</replacement-string>
                        </string-pair>
                    </exchange-table>
                </exchange>
            </modify>
        </pass>
        <!-- collapse whitespace: -->
        <pass>
            <modify>
                <exchange>
                    <exchange-table>
                        <string-pair>
                            <search-string>{00} </search-string>
                            <replacement-string> </replacement-string>
                        </string-pair>
                    </exchange-table>
                </exchange>
            </modify>
        </pass>
        <remove-blanks where="both"/>
        <suppress-blank-lines/>
    </transform>
    <!-- ko 2 h: define record structure: -->
    <transform source="$hz1" destination="h" save-params="$ko2" mode="+">
        <define-text-units>
            <text-unit-start>
                <comparison-table>
                    <exclusion-string>{{add}}</exclusion-string>
                    <exclusion-string>{{abbr}}</exclusion-string>
                    <exclusion-string>{{expan}}</exclusion-string>
                    <exclusion-string>{{choice</exclusion-string>
                    <exclusion-string>{{corr</exclusion-string>
                    <exclusion-string>{{damage</exclusion-string>
                    <exclusion-string>{{del</exclusion-string>
                    <exclusion-string>{{emph}}</exclusion-string>
                    <exclusion-string>{{g}}</exclusion-string>
                    <exclusion-string>{{hi}}</exclusion-string>
                    <exclusion-string>{{hi+</exclusion-string>
                    <exclusion-string>{{l}}</exclusion-string>
                    <exclusion-string>{{l+</exclusion-string>
                    <exclusion-string>{{name</exclusion-string>
                    <exclusion-string>{{note</exclusion-string>
                    <exclusion-string>{{orig}}</exclusion-string>
                    <exclusion-string>{{reg}}</exclusion-string>
                    <exclusion-string>{{s}}</exclusion-string>
                    <exclusion-string>{{seg}}</exclusion-string>
                    <exclusion-string>{{sic}}</exclusion-string>
                    <exclusion-string>{{sp+xml:id="sp^_l^_6359"}}</exclusion-string>
                    <exclusion-string>{{sp+xml:id="sp^_l^_6360"}}</exclusion-string>
                    <exclusion-string>{{stage+n="before^_8275^_b"</exclusion-string>
                    <exclusion-string>{{speaker</exclusion-string>
                    <exclusion-string>{{stage</exclusion-string>
                    <exclusion-string>{{subst</exclusion-string>
                    <exclusion-string>{{supplied</exclusion-string>
                    <exclusion-string>{{surplus}}</exclusion-string>
                    <exclusion-string>{{unclear</exclusion-string>
                    <comparison-string>{{</comparison-string>
                </comparison-table>
            </text-unit-start>
        </define-text-units>
        <new-line-before>
            <search-table>
                <exception-string>{{abbr}}</exception-string>
                <exception-string>{{add</exception-string>
                <exception-string>{{expan}}</exception-string>
                <exception-string>{{choice</exception-string>
                <exception-string>{{corr</exception-string>
                <exception-string>{{damage</exception-string>
                <exception-string>{{del</exception-string>
                <exception-string>{{emph}}</exception-string>
                <exception-string>{{g}}</exception-string>
                <exception-string>{{hi}}</exception-string>
                <exception-string>{{hi+</exception-string>
                <exception-string>{{name</exception-string>
                <exception-string>{{note</exception-string>
                <exception-string>{{orig}}</exception-string>
                <exception-string>{{reg}}</exception-string>
                <exception-string>{{s}}</exception-string>
                <exception-string>{{seg}}</exception-string>
                <exception-string>{{sic}}</exception-string>
                <exception-string>{{sp}}</exception-string>
                <exception-string>{{speaker</exception-string>
                <exception-string>{{sp+xml:id="sp^_l^_6359"}}</exception-string>
                <exception-string>{{l+n="6359"}}</exception-string>
                <exception-string>{{sp+xml:id="sp^_l^_6360"}}</exception-string>
                <exception-string>{{stage+n="before^_6360^_b"}}</exception-string>
                <exception-string>{{l+n="6360"}}</exception-string>
                <exception-string>{{stage+n="before^_6361"}}</exception-string>
                <exception-string>{{stage+n="before^_8275^_b"</exception-string>
                <exception-string>{{subst</exception-string>
                <exception-string>{{supplied</exception-string>
                <exception-string>{{surplus}}</exception-string>
                <exception-string>{{unclear</exception-string>
                <exception-string>{{/</exception-string>
                <search-string>{{lg*}} {{l</search-string>
                <search-string>{{/body}}</search-string>
                <search-string>{{/text}}</search-string>
                <search-string>{{</search-string>
            </search-table>
        </new-line-before>
        <suppress-blank-lines/>
        <!-- <output-records max-length="120"/> when necessary-->
    </transform>
    <!-- critapp lines h (1): -->
    <transform source="h" destination="intmedfile" option="append" save-params="crit">
        <pass>
            <examine-text>
                <select>
                    <text-contains>
                        <search-table>
                            <search-string>{{add</search-string>
                            <search-string>{{corr</search-string>
                            <search-string>{{del</search-string>
                            <search-string>{{sic</search-string>
                            <search-string>{{subst</search-string>
                            <search-string>{{supplied</search-string>
                            <search-string>{{surplus</search-string>
                            <search-string>{{unclear</search-string>
                            <search-string>{{!--</search-string>
                        </search-table>
                    </text-contains>
                </select>
            </examine-text>
            <modify>
                <exchange>
                    <exchange-table>
                        <string-pair>
                            <search-string>+</search-string>
                            <replacement-string> </replacement-string>
                        </string-pair>
                    </exchange-table>
                </exchange>
            </modify>
        </pass>
    </transform>
    <!-- critapp lines h (2): -->
    <transform source="intmedfile" destination="crith">
        <!--<pass>
            <modify>
                <exchange>
                    <exchange-table>
                        <string-pair>
                            <search-string>* n="{s:ea}*</search-string>
                            <replacement-string/>
                        </string-pair>
                    </exchange-table>
                </exchange>
            </modify>
        </pass>-->
    </transform>
    <!-- transform h0a: -->
    <transform source="h0a-x" destination="intmedfile" take-params="ko1" option="erase"/>
    <transform source="intmedfile" destination="h0a" take-params="ko2" mode="+"/>
    <transform source="h0a" destination="crith0a" take-params="crit"/>
    <!-- transform ih12a -->
    <transform source="ih12a-x" destination="intmedfile" take-params="ko1" option="erase"/>
    <transform source="intmedfile" destination="ih12a" take-params="ko2" mode="+"/>
    <!-- transform h14: -->
    <transform source="h14-x" destination="intmedfile" take-params="ko1" option="erase"/>
    <transform source="intmedfile" destination="h14" take-params="ko2" mode="+"/>
    <!-- transform c14: -->
    <transform source="c14-x" destination="intmedfile" take-params="ko1" option="erase"/>
    <transform source="intmedfile" destination="c14" take-params="ko2" mode="+"/>
    <transform source="c14" destination="critc14" take-params="crit"/>
    <!-- collate h and h0a -->
    <compare versiona="h" versionb="h0a" variants="diff1" type="corrections" listing="-">
        <compare-units mode="word"/>
        <add-context>
            <omission length-before="0" length-lemma="5" length-after="0"/>
            <replacement length-before="0" length-lemma="3" length-after="0"/>
            <insertion length-before="1" length-after="0"/>
        </add-context>
        <select-area versiona="1.10-28.5,99" versionb="1.3-28.2,10"/>
        <version-id>H.0a</version-id>
    </compare>
    <compare versiona="h" versionb="h14" variants="diff1b" type="corrections" listing="-">
        <compare-units mode="word"/>
        <add-context>
            <omission length-before="0" length-lemma="5" length-after="0"/>
            <replacement length-before="0" length-lemma="3" length-after="0"/>
            <insertion length-before="1" length-after="0"/>
        </add-context>
        <select-area versiona="12.23-13.4,7" versionb="1.2-1.43,6"/>
        <version-id>H.14</version-id>
    </compare>
    <collate source="h" mode="single-witness" diff-file="diff1b'diff1" listing="$diff-list1">
        <list lines="with-variants"/>
    </collate>
    <!--<display file="diff-list1" type="listing" mode="ps-landscape"/>-->
    <!-- collate h and c14 -->
    <compare versiona="h" versionb="c14" variants="diff2" type="corrections" listing="-">
        <compare-units mode="word"/>
        <add-context>
            <omission length-before="0" length-lemma="5" length-after="0"/>
            <replacement length-before="0" length-lemma="3" length-after="0"/>
            <insertion length-before="1" length-after="0"/>
        </add-context>
        <select-area versiona="80.60-111.25,40" versionb="1.3-31.29,39"/>
        <normalize>
            <exchange-table>
                <string-pair>
                    <search-string>{{{0}/orig}}</search-string>
                    <replacement-string/>
                </string-pair>
            </exchange-table>
        </normalize>
        <version-id>C.1 4</version-id>
    </compare>
    <collate source="h" mode="single-witness" diff-file="diff2" listing="$diff-list2">
        <list lines="with-variants"/>
    </collate>
    <!--    <display file="diff-list2" type="listing" mode="ps-landscape"/>-->
    <!-- correct h -->
    <correct source="h" destination="hh0a" corrections="diff1" option="erase"/>
    <correct source="hh0a" destination="hh0ac14" corrections="diff2" option="erase"/>
    <!-- emend kt and add app entries: -->
    <transform source="hh0ac14" destination="ktemend">
        <pass>
            <modify>
                <exchange>
                    <exchange-table>
                        <!-- sample correction: 11160 fremdem] fremden H -->
                        <string-pair>
                            <search-string>"11160"*{|}fremden</search-string>
                            <replacement-string>{=1=}{{seg+xml:id="l^_11160fremdem"}}fremdem{{/seg}}{{note+target="^#l^_11160fremdem"}}{{app+loc="11160"}}{{lem}}fremdem{{/lem}}{{rdg+wit="2^_H"}}fremden{{/rdg}}{{/app}}{{/note}}</replacement-string>
                        </string-pair>
                        <!-- test case: -->
                        <string-pair>
                            <search-string>"before^_5295^_a"*{|}vorüber</search-string>
                            <replacement-string>{=1=}{{seg+xml:id="before^_5295^_a^_vorbey"}}vorbey{{/seg}} {{note+target="^#before^_5295^_a^_vorbey"+type="textcrit"+subtype="2a"}} {{app+loc="vor 5295"}} {{lem+wit="2^_H"}}vorbey{{/lem}} {{rdg+wit="2^_I^_H.0a"}}vorüber{{/rdg}} {{/app}} {{/note}}</replacement-string>
                        </string-pair>
                    </exchange-table>
                </exchange>
            </modify>
        </pass>
    </transform>
    <!-- build kt: -->
    <transform source="hheader" destination="kt-x">
        <pass>
            <modify>
                <exchange>
                    <exchange-table>
                        <string-pair>
                            <search-string>{{title}}{[}H{]}{{/title}}</search-string>
                            <replacement-string>Faust II</replacement-string>
                        </string-pair>
                        <string-pair>
                            <search-string>{{sourceDesc/}}</search-string>
                            <replacement-string>{{sourceDesc}}{{p}}konstituiert{{/p}}{{/sourceDesc}}</replacement-string>
                        </string-pair>
                    </exchange-table>
                </exchange>
            </modify>
        </pass>
    </transform>
    <!-- tokens back into tags -->
    <transform source="ktemend" destination="kt-x" option="append">
        <pass>
            <modify>
                <exchange>
                    <exchange-table>
                        <string-pair>
                            <search-string>{{{00}{c:tg}{[}+{]}{00}{c:tg}}}</search-string>
                            <replacement-string> </replacement-string>
                        </string-pair>
                        <string-pair>
                            <search-string>+{[}ge:stage</search-string>
                            <replacement-string>change</replacement-string>
                        </string-pair>
                    </exchange-table>
                </exchange>
            </modify>
        </pass>
        <suppress-blank-lines/>
        <insert-at-end>{{/TEI}}</insert-at-end>
    </transform>
    <!-- collate h and preceding mss -->
    <!-- transform ivh1 -->
    <transform source="ivh1-x" destination="intmedfile" take-params="ko1" option="erase"/>
    <transform source="intmedfile" destination="ivh1" take-params="ko2" mode="+"/>
    <!-- transform ivh2 -->
    <transform source="ivh2-x" destination="intmedfile" take-params="ko1" option="erase"/>
    <transform source="intmedfile" destination="ivh2" take-params="ko2" mode="+"/>
    <!-- transform ivh3-->
    <transform source="ivh3-x" destination="intmedfile" take-params="ko1" option="erase"/>
    <transform source="intmedfile" destination="ivh3" take-params="ko2" mode="+"/>
    <!-- transform ivh20 -->
    <transform source="ivh20-x" destination="intmedfile" take-params="ko1" option="erase"/>
    <transform source="intmedfile" destination="ivh20" take-params="ko2" mode="+"/>
    <!-- transform ivh22e -->
    <transform source="ivh22e-x" destination="intmedfile" take-params="ko1" option="erase"/>
    <transform source="intmedfile" destination="ivh22e" take-params="ko2" mode="+"/>
    <!-- transform ivh22f -->
    <transform source="ivh22f-x" destination="intmedfile" take-params="ko1" option="erase"/>
    <transform source="intmedfile" destination="ivh22f" take-params="ko2" mode="+"/>
    <!-- transform ivh22g -->
    <transform source="ivh22g-x" destination="intmedfile" take-params="ko1" option="erase"/>
    <transform source="intmedfile" destination="ivh22g" take-params="ko2" mode="+"/>
    <!-- act 1 (version-sort-val 1-25 -->
    <compare versiona="h" versionb="ih12a" variants="diffhprec" listing="-">
        <compare-units mode="word"/>
        <add-context>
            <omission length-before="0" length-lemma="5" length-after="0"/>
            <replacement length-before="0" length-lemma="3" length-after="0"/>
            <insertion length-before="1" length-after="0"/>
        </add-context>
        <select-area versiona="11.58-12.20,99" versionb="1.3-1.25,99"/>
        <select-area versiona="16.53-17.9,99" versionb="1.30-1.46,99"/>
        <select-area versiona="16.17-16.33,99" versionb="1.51-2.7,99"/>
        <select-area versiona="16.2-16.16,99" versionb="2.12-2.26,99"/>
        <pos-ind-b value="yes"/>
        <version-id>IH12a</version-id>
        <version-sort-val value="1"/>
    </compare>
    <!-- act 2 (version-sort-val 26-40) -->
    <!-- act 3 (version-sort-val 41-65 -->
    <!-- act 4 (version-sort-val 63-80 -->
    <compare versiona="h" versionb="ivh1" variants="diffhprec" listing="-" option="append">
        <compare-units mode="word"/>
        <add-context>
            <omission length-before="0" length-lemma="5" length-after="0"/>
            <replacement length-before="0" length-lemma="3" length-after="0"/>
            <insertion length-before="1" length-after="0"/>
        </add-context>
        <select-area versiona="111.30-111.59,99" versionb="1.3-1.31,99"/>
        <select-area versiona="129.41-129.56,99" versionb="1.37-1.52,99"/>
        <version-id>IVH1</version-id>
        <version-sort-val value="66"/>
    </compare>
    <compare versiona="h" versionb="ivh3" variants="diffhprec" listing="-" option="append">
        <compare-units mode="word"/>
        <add-context>
            <omission length-before="0" length-lemma="5" length-after="0"/>
            <replacement length-before="0" length-lemma="3" length-after="0"/>
            <insertion length-before="1" length-after="0"/>
        </add-context>
        <!-- -10134 -->
        <select-area versiona="111.60-113.17,99" versionb="1.2-2.19,99"/>
        <version-id>IVH3</version-id>
        <version-sort-val value="67"/>
    </compare>
    <compare versiona="h" versionb="ivh2" variants="diffhprec" listing="-" option="append">
        <compare-units mode="word"/>
        <add-context>
            <omission length-before="0" length-lemma="5" length-after="0"/>
            <replacement length-before="0" length-lemma="3" length-after="0"/>
            <insertion length-before="1" length-after="0"/>
        </add-context>
        <!-- vor 10067 -->
        <select-area versiona="111.60-112.5,99" versionb="1.3-1.8,99"/>
        <!-- -10119 -->
        <select-area versiona="112.47-112.59,99" versionb="1.9-1.20,99"/>
        <select-area versiona="113.12-114.49,99" versionb="1.27-3.6,11"/>
        <version-id>IVH2</version-id>
        <version-sort-val value="68"/>
    </compare>
    <compare versiona="h" versionb="ivh20" variants="diffhprec" listing="-" option="append">
        <compare-units mode="word"/>
        <add-context>
            <omission length-before="0" length-lemma="5" length-after="0"/>
            <replacement length-before="0" length-lemma="3" length-after="0"/>
            <insertion length-before="1" length-after="0"/>
        </add-context>
        <select-area versiona="129.19-129.40,99" versionb="1.32-1.53,10"/>
        <version-id>IVH20</version-id>
        <version-sort-val value="75"/>
    </compare>
    <compare versiona="h" versionb="ivh22e" variants="diffhprec" listing="-" option="append">
        <compare-units mode="word"/>
        <add-context>
            <omission length-before="0" length-lemma="5" length-after="0"/>
            <replacement length-before="0" length-lemma="3" length-after="0"/>
            <insertion length-before="1" length-after="0"/>
        </add-context>
        <select-area versiona="129.57-130.57,99" versionb="1.2-2.4,99"/>
        <version-id>IVH22e</version-id>
        <version-sort-val value="76"/>
    </compare>
    <compare versiona="h" versionb="ivh22f" variants="diffhprec" listing="-" option="append">
        <compare-units mode="word"/>
        <add-context>
            <omission length-before="0" length-lemma="5" length-after="0"/>
            <replacement length-before="0" length-lemma="3" length-after="0"/>
            <insertion length-before="1" length-after="0"/>
        </add-context>
        <select-area versiona="130.58-131.45,99" versionb="1.2-1.45,99"/>
        <version-id>IVH22f</version-id>
        <version-sort-val value="77"/>
    </compare>
    <compare versiona="h" versionb="ivh22g" variants="diffhprec" listing="-" option="append">
        <compare-units mode="word"/>
        <add-context>
            <omission length-before="0" length-lemma="5" length-after="0"/>
            <replacement length-before="0" length-lemma="3" length-after="0"/>
            <insertion length-before="1" length-after="0"/>
        </add-context>
        <select-area versiona="131.46-132.16,13" versionb="1.2-1.32,99"/>
        <version-id>IVH22g</version-id>
        <version-sort-val value="78"/>
    </compare>
    <!-- Akt 5 (version-sort-val 81-99 -->
    <sort source="diffhprec" destination="diffhprec">
        <sort-field num="1" start="1" length="17" order="ascending"/>
        <sort-field num="2" start="37" length="2"/>
        <!--  1-17: starting pos. of lemma ,18-34: end position of lemma, 35: type of reference (whole line or words in a line), 
            36:  2 = omission, 3 = replacement, 4 = insertion,  37-38: version number for sorting, 
            39-41: continuation lines for long variants,42-44: Pointer to 1st character after context info -->
    </sort>
    <collate source="h" mode="cumulated" diff-file="diffhprec" listing="diffhprec-va"
        special="code">
        <list lines="with-variants"/>
        <version-sort-val value="1"/>
        <version-id>IH12a</version-id>
        <version-list list="variants"/>
        <version-sort-val value="66"/>
        <version-id>IVH1</version-id>
        <version-list list="variants"/>
        <version-sort-val value="67"/>
        <version-id>IVH3</version-id>
        <version-list list="variants"/>
        <version-sort-val value="68"/>
        <version-id>IVH2</version-id>
        <version-list list="variants"/>
        <version-sort-val value="75"/>
        <version-id>IVH20</version-id>
        <version-list list="variants"/>
        <version-sort-val value="76"/>
        <version-id>IVH22e</version-id>
        <version-list list="variants"/>
        <version-sort-val value="77"/>
        <version-id>IVH22f</version-id>
        <version-list list="variants"/>
        <version-sort-val value="78"/>
        <version-id>IVH22g</version-id>
        <version-list list="variants"/>
        <var-marks id-text="=" missing-text=" " id-var="id-prev"/>
    </collate>
    <display file="$diffhprec-va" type="listing" mode="ps-landscape"/>
</script>
